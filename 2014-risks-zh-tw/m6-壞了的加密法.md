---

layout: col-sidebar
title: "M6: 壞了的加密法"
---

# 威脅主體

**應用層面 特定**

威脅主體包括以下：任何具有對未正確加密的數據的物理訪問權限，或替攻擊者行事的行動惡意軟體。

# 攻擊媒介	

**利用難度 簡單**

攻擊媒介包括以下方式：通過對裝置的物理訪問或網路流量捕獲來解密數據，或者通過裝置上具有對加密數據的訪問權限的惡意應用程式。

# 安全層面的強度	

**普及性 常見** <br />
**偵測性 簡單**
	
為了利用這個弱點，攻擊者必須成功地將加密的程式碼或敏感數據恢復為原始的未加密形式，這是由於脆弱的加密演算法或加密過程中的缺陷。

# 技術性影響	

**影響程度 嚴重**

此漏洞將導致未經授權地從行動裝置檢索敏感信息。

# 業務影響
	
**應用程式/業務 特定** 
		

此漏洞可能對業務產生各種影響。通常，被破解的加密將導致以下情況:
- 隱私侵犯;
- 信息盜竊;
- 程式碼盜竊;
- 智慧財產權盜竊; 
- 聲譽損害。

# 我是否容易受到「壞了的加密法」的攻擊?

在大多數利用加密的行動應用程式中，不安全的加密使用是很常見的。被破解的加密在行動應用程式中表現出兩種基本方式。首先，行動應用可能使用在加密/解密過程背後的流程存在根本缺陷，攻擊者可以利用這些缺陷解密敏感數據。其次，行動應用可能實施或利用一種性質上較弱且可以被攻擊者直接解密的加密/解密演算法。以下各小節將更深入地探討這兩種情境：


**依賴內建程式碼加密過程**

默認情況下，iOS應用程式通過程式碼加密（理論上）受到保護，以防止逆向工程。iOS安全模型要求應用程式在非越獄環境中加密並由可信賴的來源簽署，以便在其中運行。啟動時，iOS應用程式加載器將在內存中解密應用程式，經iOS驗證其簽名後，將繼續執行程式碼。這個特性理論上防止攻擊者對iOS行動應用進行二進制攻擊。

使用像ClutchMod或GBD這樣的免費工具，攻擊者將加密的應用程式下載到其越獄裝置上，並在iOS加載器將其加載到內存並解密（在加載器啟動執行之前）時拍攝解密後的應用程式快照。一旦攻擊者拍攝快照並將其儲存在磁盤上，攻擊者可以使用IDA Pro或Hopper等工具輕鬆執行對應用程式的靜態/動態分析並進行進一步的二進制攻擊。

規避內建程式碼的加密演算法充其量是微不足道的。始終假設攻擊者將能夠規避底層行動作業系統提供的任何內建程式碼加密。有關採取其他步驟以提供額外反向工程防護層的更多信息，請參見M10。

**不佳的金鑰管理過程**

如果處理密鑰不當，即使使用正確的加密演算法也無濟於事。很多人犯的錯誤是使用正確的加密演算法，但實行他們自己的協議來使用它。這裡的一些問題例子包括：

- 在與受攻擊者可讀目錄相同的位置包含金鑰;
- 使金鑰可被攻擊者使用;
- 避免在二進制中使用硬編碼金鑰; 
- 金鑰可能通過二進制攻擊被攔截。有關防止二進制攻擊的更多信息，請參見M10。

**創建和使用自定義加密協議**

在處理加密時，創建和使用自己的加密演算法或協定相當容易出現問題。

請總是使用由安全社群認可為強大的現代演算法，並在可能的情況下充分利用您的行動平台中的最新加密 API。二進制攻擊可能會導致對手識別您在二進制中使用的常見函式庫以及其中的任何硬編碼金鑰。在加密要求非常高的情況下，應強烈考慮使用白盒密碼學。有關防止對常見函式庫進行利用的二進制攻擊的更多信息，請參見 M10。

**使用不安全和/或已棄用的演算法**

許多加密算法和協定不應使用，因為它們已被證明存在顯著的弱點，或者對於現代安全要求來說不足夠。這些包括:

- RC2
- MD4
- MD5
- SHA1

# 如何防止「壞了的加密法」?

無

# 攻擊情境舉例

無

# 參考資料

- OWASP
  - [OWASP](https://www.owasp.org/)
- External
  - [External References](http://cwe.mitre.org/)