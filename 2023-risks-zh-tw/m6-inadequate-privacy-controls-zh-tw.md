---
layout: col-sidebar
title: "M6: 不當的隱私控制"
---

# 威脅主體

**應用層面 特定**

隱私控制的目的是保護個人身份信息（PII），例如姓名、地址、信用卡信息、電子郵件和IP地址，以及有關健康、宗教、性取向和政治觀點的敏感信息。

這些信息對攻擊者具有價值，舉例來說，攻擊者可以： 
- 可以冒充受害者進行欺詐 
- 濫用受害者的付款資料
- 利用敏感信息對受害者進行勒索
- 通過破壞或操控受害者的重要數據對其進行傷害

一般來說，個人身份信息可能會被洩露（即違反保密性）、操控（違反完整性）或銷毀/阻塞（違反可用性）。


# 攻擊媒介	

**利用難度 平均**

PII (個人身份信息) 的典型來源通常受到良好的保護，例如應用程式的沙盒、與伺服器的網路通信、應用程式的日誌和備份。有些資料的保護較弱，但仍然難以訪問，例如 URL 查詢參數和剪貼簿內容。

因此，獲取 PII 需要攻擊者先在另一層次打破安全性。攻擊者可以竊聽網路通信、訪問檔案系統、剪貼簿或透過木馬獲取手機並創建備份進行分析。由於 PII 只是可以在行動裝置上存儲、處理和傳輸的數據，因此提取或操控它的可能性是多方面的。


# 安全層面的強度

**普及性 常見**

**偵測性 簡單**

幾乎所有的應用程式都處理某種形式的個人身份信息 (PII)。許多應用甚至收集和處理超出其目的所需的信息，這使它們在沒有業務需求的情況下更有作為攻擊目標的吸引力。

由於開發人員對 PII 的疏忽處理，隱私侵犯的風險增加。應始終在處理 PII 時考慮到攻擊者可能訪問通信和存儲媒體的可能性。

因此，如果應用程式收集的某些個人數據激起攻擊者通過不足安全保護的存儲或傳輸媒體，操縱或濫用該數據，則應用程式容易受到隱私侵犯的影響。


# 技術性影響	

**影響程度 低**

對系統整體而言，隱私侵犯通常對技術影響較小。只有當 PII 包含身份驗證數據等信息時，它才可能影響某些全局安全性屬性，例如可追蹤性

如果使用者數據被操縱，可能會使該使用者無法使用系統。通過不當形式的數據，如果後端缺乏正確的清理和異常處理，也可能導致後端系統受到干擾。


# 業務影響

**影響程度 嚴重** 

 
隱私侵犯的業務影響程度和嚴重性，強烈取決於受影響用戶的數量、受影響數據的重要性，以及發生侵犯的地方適用的數據保護法規。隱私侵犯的業務影響通常至少會導致以下結果:

**違反法律法規:** 法規是涉及隱私控制的最大問題。GDPR（歐洲）、CCPA（加利福尼亞，美國）、PDPA（新加坡）、PIPEDA（加拿大）、LGPD（巴西）、2018年數據保護法（英國）、POPIA（南非）、PDPL（中國）是一些具有已知對公司施加制裁的相關法規，因為這些公司未能保護其用戶數據。

**受害者訴訟導致的財務損害:** 任何受隱私侵犯影響的人可能會起訴使侵犯發生的應用程式提供商。這些訴訟可能會成功，取決於適用的法規以及提供商展示他們已經建立了適當且最新的保護機制的能力。

**名譽損害:** 如果隱私侵犯影響大範圍的用戶，那麼它可能會在媒體中被公開，從而為應用程式的供應商產生負面的宣傳。因此，該應用程式，甚至是相同提供商的其他無關的產品，其銷售和使用都可能驟降。

**PII的丟失或被盜:** 實際被盜取的信息可能會被濫用，甚至用於對該應用程式供應商的攻擊。例如，特定用戶數據可能被用來對提供商進行社交工程攻擊，冒充受害者。


# 我是否容易受到「不當的隱私控制」的攻擊?

應用程式只有在處理某些形式的可識別個人資訊時，才有可能存在不足的隱私控制。這幾乎總是成立的：客戶端應用程式的 IP 位址對伺服器是可見的，應用程式的使用日誌，以及隨著崩潰報告或分析一同發送的詮釋資料都可應用於大多數應用程式。通常，一個應用程式會從其用戶那裡收集和處理更多敏感的個人資訊，如帳戶信息、付款數據、位置等。

對於使用個人識別資訊的應用程式，它可能像處理其他敏感數據一樣公開這些資訊。這最明顯地發生在以下情況下：
- 不安全的資料存儲與通信 (cf. [M5](m5-insecure-communication-zh-tw.md), [M9](m9-insecure-data-storage-zh-tw.md)),
- 使用不安全的身份驗證和授權進行數據訪問 (cf. [M3](m3-insecure-authentication-authorization-zh-tw.md), [M1](m1-improper-credential-usage-zh-tw.md))
- 針對應用程式沙盒的內部人攻擊 (cf. [M2](m2-inadequate-supply-chain-security-zh-tw.md), [M4](m4-insufficient-input-output-validation-zh-tw.md), [M8](m8-security-misconfiguration-zh-tw.md)).

OWASP 行動裝置安全性十大風險的其他項目提供了更深入的見解，說明一個應用程式可能如何容易受到不同攻擊媒介的威脅。


# 如何防止「不當的隱私控制」？

一個不存在的事物無法受到攻擊，因此預防隱私侵犯的最安全方法是將處理的個人識別資訊（PII）的數量和種類減到最低。這需要對特定應用程式中的所有PII資產有完全的認識。在擁有這種認識的情況下，應該評估以下問題：

- 所有處理的PII是否真的是必要的，例如姓名和地址、性別、年齡？
- 一些PII是否可以用不太重要的信息替代，例如用粗略的位置替代精細的位置？
- 一些PII是否可以減少，例如每小時更新位置而不是每分鐘更新？
- 一些PII是否可以匿名化或模糊化，例如通過雜湊、分組或添加干擾？
- 一些PII是否可以在某個過期時間後刪除，例如僅保留上週的健康數據？
- 用戶是否可以同意選擇性使用PII，例如為了獲得更好的服務，同時也意識到額外的風險？

其餘的PII不應該存儲或傳輸，除非絕對必要。如果必須存儲或傳輸，則應使用適當的身份驗證以及可能的授權來保護訪問權限。同時應考慮對特別關鍵的數據進行深度防禦。例如，除了存儲在應用程式的沙盒中，健康數據可能會使用密鑰封存在裝置的TPM中。因此，即使攻擊者成功規避沙盒限制，數據仍然無法讀取。OWASP 移動安全性十大風險中的其他風險提出了安全地存儲、傳輸、訪問和處理敏感數據的措施。

威脅建模可用於確定在給定的應用程式中發生隱私侵犯的最有可能的方式。保護PII的努力可以集中在這些方面。

靜態和動態安全檢查工具可能會揭示常見的陷阱，例如記錄敏感數據、洩漏到剪貼板或URL查詢的參數。


# 攻擊情境舉例

以下情境展示了行動應用程式中不足的隱私控制: 

**情境1:** 日誌和錯誤消息的不當清理 
 
日誌和異常的報告對於確保高效應用程式的品質是至關重要的。崩潰報告和其他使用數據幫助開發人員修復錯誤，並了解其應用程式的使用方式。然而，如果開發人員選擇在日誌或錯誤消息中包含數據，則日誌和錯誤消息可能包含個人識別資訊（PII）。此外，第三方庫可能在其錯誤消息和日誌中包含PII。一個常見問題的例子是顯示部分查詢或結果的資料庫異常。這很可能會被收集和評估崩潰報告的任何平台供應商看見。如果錯誤在螢幕上顯示，也可能被用戶看見，或者攻擊者可以讀取裝置日誌而看見。開發人員應特別小心記錄的內容，並確保在向用戶顯示異常訊息或向伺服器報告之前有先清理過。

**情境2:** 在URL查詢參數中使用PII. 

URL查詢參數通常用於將請求參數傳送到伺服器。然而，URL查詢參數在伺服器日誌中是可見的，而且通常還可在網站分析和本地瀏覽器歷史中看到。因此，敏感信息不應作為查詢參數傳輸。相反，它們應該作為標頭或主體的一部分發送。

**情境3:** 在備份中排除個人數據/不設置 hasFragileUserData 

應用程式處理的大多數PII都存儲在其沙盒中。應用程式應明確設定哪些數據應包含在裝置備份中。攻擊者可能取得裝置並創建備份，或從其他來源獲得備份，從中可以提取沙盒內容。

或者，通過在Android中將 hasFragileUserData 設置為 'true'，應用程式可以在卸載時保留其數據。之後，攻擊者如果成功安裝具有相同資料包ID的惡意應用程式，則可以訪問這些數據。

因此，應該明確設置這兩個配置，以使開發人員的意圖透明，並通過備份或在後續應用程式的安裝之間控制信息流。

# 參考資料

- OWASP
  - [User Privacy Protection Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/User_Privacy_Protection_Cheat_Sheet.html)
  - [Testing User Privacy Protection (MASTG)](https://mas.owasp.org/MASTG/General/0x04i-Testing-User-Privacy-Protection/)
  - [OWASP Top 10 Privacy Risks](https://owasp.org/www-project-top-10-privacy-risks/)
  - [OWASP Top 10 for Large Language Models: LLM06: Sensitive Information Disclosure](https://owasp.org/www-project-top-10-for-large-language-model-applications/)
- External
  - [EU General Data Protection Regulation](https://gdpr.eu/)
