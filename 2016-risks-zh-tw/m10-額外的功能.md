---

layout: col-sidebar
title: "M10: 額外的功能"
---

# 威脅主體

**應用層面 特定**

通常，攻擊者會試圖理解行動應用程式中的額外功能，以發現後端系統中的隱藏功能。攻擊者通常會直接從他們自己的系統中利用這些額外的功能，而無需結束用戶的參與。

# 攻擊媒介	

**利用難度 簡單**

攻擊者會在他們自己的本地環境中下載並檢查行動應用程式。他們將檢查日誌文件、配置文件，可能還包括二進制文件，以發現開發人員遺留下來的任何隱藏的開關或測試程式碼。攻擊者將利用這些開關和隱藏的功能在後端系統中執行攻擊。

# 安全層面的強度	

**普及性 常見** <br />
**偵測性 平均**

有很大的可能性，任何給定的行動應用程式都包含了未直接透過界面展示給用戶的額外功能。大多數這些額外的程式碼本質上是良性的，不會給攻擊者帶來對後端能力的更多了解。然而，有些額外的功能對攻擊者非常有用。暴露與後端測試、演示、分段或UAT環境相關的信息的功能不應該包含在生產版本中。此外，管理API端點或非官方端點不應該包含在最終的生產版本中。檢測額外功能可能有些棘手。自動靜態和動態分析工具可以檢測到一些低風險的項目（例如日誌記錄）。然而，一些後門在自動手段下難以檢測。因此，最好的方式是使用人工程式碼審查來預防這些問題。

# 技術性影響	

**影響程度 嚴重**

額外功能帶來的技術影響包括以下兩點:
- 暴露後端系統運作方式;
- 執行未經授權的高特權操作。


# 業務影響
	
**應用程式/業務 特定** 
		

額外功能帶來的業務影響包括以下幾點:
- 未經授權訪問敏感功能;
- 聲譽損害; 
- 智慧財產權被盜竊。

# 我是否容易受到「額外的功能」的攻擊？

通常，開發人員會在程式碼中包含隱藏的後門功能或其他內部開發安全控制，這些功能並不意味著要釋放到生產環境中。例如，開發人員可能在混合應用程式的註釋中意外包含了一個密碼。另一個例子是在測試期間禁用雙因素身份驗證。

這種風險明確的特徵是在應用程式中啟用了未打算釋放的功能。

# 如何防止「額外的功能」?

防止這種風險的最佳方法是進行人工的安全程式碼審查，由安全負責人或對這些程式碼最為熟悉的專家執行。他們應該執行以下操作:

1. 檢查應用程式的配置設置，查找任何隱藏的開關;
2. 確保所有測試程式碼不包含在應用程式的最終生產版本中;
3. 檢查行動應用程式訪問的所有API端點，以確保這些端點有良好的文檔並公開可用;
4. 檢查所有日誌記錄，以確保對後端的描述不會被過度寫入日誌中;

# 攻擊情境舉例

**情境1**: 曝露的管理端點:

作為行動端點測試的一部分，開發人員在行動應用程式中包含了一個隱藏的界面，可以顯示一個管理儀表板。這個儀表板通過後端API伺服器訪問管理信息。在程式碼的生產版本中，開發人員沒有包含在任何時候顯示該儀表板的程式碼。然而，他們確實包含了可以訪問後端管理API的底層程式碼。攻擊者對二進制文件執行了字符串表分析，發現了一個硬編碼的管理REST端點的URL。隨後，攻擊者使用 'curl' 執行了後端管理功能。

開發人員應該刪除所有多餘的程式碼，包括本地界面無法直接訪問的程式碼。

**情境2**: 配置文件中的除錯標誌:

攻擊者嘗試在本地應用程式的 .properties 文件中手動添加 "debug=true"。在啟動時，應用程式會輸出過於描述性且對攻擊者有幫助的日誌文件，這有助於理解後端系統。攻擊者隨後發現了後端系統的漏洞。

開發人員應該防止在行動應用程式的生產版本中啟動'除錯模式'。

# 參考資料

- OWASP
  - [OWASP](https://www.owasp.org/)
- External
  - [External References](http://cwe.mitre.org/)